import * as ___react___ from 'react';
import * as ___react_dom___ from 'react-dom'; 

function require(mod) {
  if (mod === 'react') return ___react___;
  if (mod === 'react-dom') return ___react_dom___;
  throw new Error(`Unknown module ${mod}`);
}
import{e as a}from"../../chunk-GDQBQ7MK.js";a();function v(c){return{execute:u=>{let{parameters:i,sql:l,transformations:r}=u,f=c.prepare(l);try{let e=f.all(...i);if(!r||Object.keys(r).length===0)return Promise.resolve([null,e]);for(let n of e)for(let t in r){let s=r[t],o=n[t];if(s==="json-parse"){if(typeof o=="string")try{n[t]=JSON.parse(o)}catch(p){console.error(`Failed to JSON.parse column "${t}" with value: ${o}`,p)}continue}}return Promise.resolve([null,e])}catch(e){return Promise.resolve([e])}}}}export{v as createNodeSQLiteExecutor};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vZGF0YS9ub2RlLXNxbGl0ZS9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBEYXRhYmFzZVN5bmMsIFNRTElucHV0VmFsdWUgfSBmcm9tIFwibm9kZTpzcWxpdGVcIjtcblxuaW1wb3J0IHR5cGUgeyBFeGVjdXRvciB9IGZyb20gXCIuLi9leGVjdXRvclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZVNRTGl0ZUV4ZWN1dG9yKGRhdGFiYXNlOiBEYXRhYmFzZVN5bmMpOiBFeGVjdXRvciB7XG4gIHJldHVybiB7XG4gICAgZXhlY3V0ZTogKHF1ZXJ5KSA9PiB7XG4gICAgICBjb25zdCB7IHBhcmFtZXRlcnMsIHNxbCwgdHJhbnNmb3JtYXRpb25zIH0gPSBxdWVyeTtcblxuICAgICAgY29uc3Qgc3RhdGVtZW50ID0gZGF0YWJhc2UucHJlcGFyZShzcWwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByb3dzID0gc3RhdGVtZW50LmFsbCguLi4ocGFyYW1ldGVycyBhcyBTUUxJbnB1dFZhbHVlW10pKTtcblxuICAgICAgICBpZiAoIXRyYW5zZm9ybWF0aW9ucyB8fCBPYmplY3Qua2V5cyh0cmFuc2Zvcm1hdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW251bGwsIHJvd3NdKSBhcyBuZXZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbHVtbiBpbiB0cmFuc2Zvcm1hdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gdHJhbnNmb3JtYXRpb25zW2NvbHVtbl07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvd1tjb2x1bW5dO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtYXRpb24gPT09IFwianNvbi1wYXJzZVwiKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgcm93W2NvbHVtbl0gPSBKU09OLnBhcnNlKHZhbHVlKSBhcyBuZXZlcjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIEpTT04ucGFyc2UgY29sdW1uIFwiJHtjb2x1bW59XCIgd2l0aCB2YWx1ZTogJHt2YWx1ZX1gLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uIHNhdGlzZmllcyB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbbnVsbCwgcm93c10pIGFzIG5ldmVyO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbZXJyb3IgYXMgRXJyb3JdKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7NENBQUFBLElBSU8sU0FBU0MsRUFBeUJDLEVBQWtDLENBQ3pFLE1BQU8sQ0FDTCxRQUFVQyxHQUFVLENBQ2xCLEdBQU0sQ0FBRSxXQUFBQyxFQUFZLElBQUFDLEVBQUssZ0JBQUFDLENBQWdCLEVBQUlILEVBRXZDSSxFQUFZTCxFQUFTLFFBQVFHLENBQUcsRUFFdEMsR0FBSSxDQUNGLElBQU1HLEVBQU9ELEVBQVUsSUFBSSxHQUFJSCxDQUE4QixFQUU3RCxHQUFJLENBQUNFLEdBQW1CLE9BQU8sS0FBS0EsQ0FBZSxFQUFFLFNBQVcsRUFDOUQsT0FBTyxRQUFRLFFBQVEsQ0FBQyxLQUFNRSxDQUFJLENBQUMsRUFHckMsUUFBV0MsS0FBT0QsRUFDaEIsUUFBV0UsS0FBVUosRUFBaUIsQ0FDcEMsSUFBTUssRUFBaUJMLEVBQWdCSSxDQUFNLEVBQ3ZDRSxFQUFRSCxFQUFJQyxDQUFNLEVBRXhCLEdBQUlDLElBQW1CLGFBQWMsQ0FDbkMsR0FBSSxPQUFPQyxHQUFVLFNBQ25CLEdBQUksQ0FDRkgsRUFBSUMsQ0FBTSxFQUFJLEtBQUssTUFBTUUsQ0FBSyxDQUNoQyxPQUFTQyxFQUFPLENBQ2QsUUFBUSxNQUFNLGdDQUFnQ0gsQ0FBTSxpQkFBaUJFLENBQUssR0FBSUMsQ0FBSyxDQUNyRixDQUdGLFFBQ0YsQ0FHRixDQUdGLE9BQU8sUUFBUSxRQUFRLENBQUMsS0FBTUwsQ0FBSSxDQUFDLENBQ3JDLE9BQVNLLEVBQWdCLENBQ3ZCLE9BQU8sUUFBUSxRQUFRLENBQUNBLENBQWMsQ0FBQyxDQUN6QyxDQUNGLENBQ0YsQ0FDRiIsCiAgIm5hbWVzIjogWyJpbml0X2RlZmluZV9BQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUiIsICJjcmVhdGVOb2RlU1FMaXRlRXhlY3V0b3IiLCAiZGF0YWJhc2UiLCAicXVlcnkiLCAicGFyYW1ldGVycyIsICJzcWwiLCAidHJhbnNmb3JtYXRpb25zIiwgInN0YXRlbWVudCIsICJyb3dzIiwgInJvdyIsICJjb2x1bW4iLCAidHJhbnNmb3JtYXRpb24iLCAidmFsdWUiLCAiZXJyb3IiXQp9Cg==