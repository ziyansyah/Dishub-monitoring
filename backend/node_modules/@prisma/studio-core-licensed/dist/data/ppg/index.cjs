"use strict";var d=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A(t))!x.call(e,s)&&s!==r&&d(e,s,{get:()=>t[s],enumerable:!(n=w(t,s))||n.enumerable});return e};var H=e=>S(d({},"__esModule",{value:!0}),e);var D={};C(D,{createPrismaPostgresHttpClient:()=>Q,deserializeRawResult:()=>y});module.exports=H(D);var p={postgres:{encoded:"ZGF0YXNvdXJjZSBkYiB7CiAgICBwcm92aWRlciA9ICJwb3N0Z3JlcyIKICAgIHVybCAgICAgID0gZW52KCJEQVRBQkFTRV9VUkwiKQp9CiAgICAKZ2VuZXJhdG9yIGNsaWVudCB7CiAgICBwcm92aWRlciA9ICJwcmlzbWEtY2xpZW50LWpzIgp9",hash:"54195896aeafa3318ca33f5a8bb44c6b4d89c368cb15288f3bd5ace35a3f9227"},postgresql:{encoded:"ZGF0YXNvdXJjZSBkYiB7CiAgICBwcm92aWRlciA9ICJwb3N0Z3Jlc3FsIgogICAgdXJsICAgICAgPSBlbnYoIkRBVEFCQVNFX1VSTCIpCn0KICAgIApnZW5lcmF0b3IgY2xpZW50IHsKICAgIHByb3ZpZGVyID0gInByaXNtYS1jbGllbnQtanMiCn0=",hash:"d2898eb0d71a62767c6497d5c37718cf28c13e6144b1c97f6849ff0f76e958fb"}};function y(e,t=T){let{columns:r,rows:n,types:s}=e,o=[],c=q(r);for(let a=0,R=n.length;a<R;a++){let u=n[a],i={...c};for(let l=0,P=u.length;l<P;l++){let m=r[l];i[m]=t(u[l],s[l],m)}o.push(i)}return o}function T(e,t,r){return e}function q(e){let t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=null;return t}var b=["postgres","postgresql"],g="accelerate.prisma-data.net",h=p;function f(e){let{provider:t}=e;if(t!=="postgresql"&&!b.includes(t))throw new Error(`Invalid provider: ${t}`);let r=I(e);return{execute:v(e,r)}}function I(e){let{host:t,engineHash:r,clientVersion:n,provider:s,apiKey:o}=e,a=`${t===g?"https":"http"}://${t||g}/${n}/${E(s).hash}`,R=e.fetch||fetch,u={Authorization:`Bearer ${o}`,"Prisma-Engine-Hash":r};return i=>R(`${a}/${i.path}`,{body:i.body,headers:u,method:i.method,signal:i.signal})}async function O(e,t,r){let n=await r({body:E(e.provider).encoded,method:"PUT",path:"schema",signal:t?.abortSignal});if(!n.ok){try{console.error(await n.text())}catch{}throw new Error(`Failed to upload schema to query engine: ${n.statusText}`)}}function E(e){return e==="postgresql"?h.postgres:h[e]}async function k(e,t,r){let n=await r({body:JSON.stringify(e),method:"POST",path:"graphql",signal:t?.abortSignal});if(!n.ok){try{console.error(await n.text())}catch{}throw new Error(`Failed to execute query: ${n.statusText}`)}return await n.json()}function v(e,t){let{resultDeserializerFn:r=y}=e,n=null;return async(s,o)=>{try{await(n||=O(e,o,t));let{data:c,errors:a}=await k({action:"queryRaw",query:{arguments:{parameters:s.parameters,query:s.sql},selection:{}}},o,t);return a?[new AggregateError(a,"Errors occurred while executing the query")]:[null,r(c.queryRaw)]}catch(c){return[c]}}}function Q(e){let{url:t,fetch:r,resultDeserializerFn:n}=e,{host:s,searchParams:o}=new URL(t);return f({apiKey:o.get("api_key")??"<missing_api_key>",clientVersion:"6.14.0",engineHash:"717184b7b35ea05dfa71a3236b7af656013e1e49",fetch:r,host:s,provider:"postgres",resultDeserializerFn:n})}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vZGF0YS9wcGcvaW5kZXgudHMiLCAiPGRlZmluZTpBQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUj4iLCAiLi4vLi4vLi4vZGF0YS9hY2NlbGVyYXRlL2Rlc2VyaWFsaXplci50cyIsICIuLi8uLi8uLi9kYXRhL2FjY2VsZXJhdGUvaHR0cC1jbGllbnQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCB7XG4gIHR5cGUgRGVzZXJpYWxpemVkUmVzcG9uc2UsXG4gIGRlc2VyaWFsaXplUmF3UmVzdWx0LFxuICB0eXBlIFF1ZXJ5SW50cm9zcGVjdGlvbkJ1aWx0aW5UeXBlLFxuICB0eXBlIFJhd1Jlc3BvbnNlLFxufSBmcm9tIFwiLi4vYWNjZWxlcmF0ZS9kZXNlcmlhbGl6ZXJcIjtcblxuaW1wb3J0IHsgUmF3UmVzcG9uc2UgfSBmcm9tIFwiLi4vYWNjZWxlcmF0ZVwiO1xuaW1wb3J0IHtcbiAgdHlwZSBBY2NlbGVyYXRlSHR0cENsaWVudCBhcyBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnQsXG4gIHR5cGUgQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMsXG4gIGNyZWF0ZUFjY2VsZXJhdGVIdHRwQ2xpZW50LFxufSBmcm9tIFwiLi4vYWNjZWxlcmF0ZS9odHRwLWNsaWVudFwiO1xuXG4vLyB2YWx1ZXMgaW5qZWN0ZWQgYXQgYnVpbGQgdGltZVxuZGVjbGFyZSBjb25zdCBQUklTTUFfQ0xJRU5UX1ZFUlNJT046IHN0cmluZztcbmRlY2xhcmUgY29uc3QgUFJJU01BX0VOR0lORV9IQVNIOiBzdHJpbmc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50UGFyYW1zIHtcbiAgLyoqXG4gICAqIFByaXNtYSBQb3N0Z3JlcyBVUkwuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW9uYWwgZmV0Y2ggaW1wbGVtZW50YXRpb24uXG4gICAqL1xuICBmZXRjaD86IHR5cGVvZiBnbG9iYWxUaGlzLmZldGNoO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIGRlc2VyaWFsaXplIHRoZSByZXN1bHRzIG9mIHF1ZXJpZXMuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSByZXN1bHRzIGFyZSBwYXNzZWQgdG8gYGRlc2VyaWFsaXplUmF3UmVzdWx0YC5cbiAgICovXG4gIHJlc3VsdERlc2VyaWFsaXplckZuPzogKHRoaXM6IHZvaWQsIHJlc3BvbnNlOiBSYXdSZXNwb25zZSkgPT4gdW5rbm93bltdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50KHByb3BzOiBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnRQYXJhbXMpOiBQcmlzbWFQb3N0Z3Jlc0h0dHBDbGllbnQge1xuICBjb25zdCB7IHVybCwgZmV0Y2gsIHJlc3VsdERlc2VyaWFsaXplckZuIH0gPSBwcm9wcztcbiAgY29uc3QgeyBob3N0LCBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwodXJsKTtcblxuICByZXR1cm4gY3JlYXRlQWNjZWxlcmF0ZUh0dHBDbGllbnQoe1xuICAgIGFwaUtleTogc2VhcmNoUGFyYW1zLmdldChcImFwaV9rZXlcIikgPz8gXCI8bWlzc2luZ19hcGlfa2V5PlwiLFxuICAgIGNsaWVudFZlcnNpb246IFBSSVNNQV9DTElFTlRfVkVSU0lPTixcbiAgICBlbmdpbmVIYXNoOiBQUklTTUFfRU5HSU5FX0hBU0gsXG4gICAgZmV0Y2gsXG4gICAgaG9zdCxcbiAgICBwcm92aWRlcjogXCJwb3N0Z3Jlc1wiLFxuICAgIHJlc3VsdERlc2VyaWFsaXplckZuLFxuICAgIC8vIGVuc3VyZXMgdGhhdCB3ZSBkb24ndCBmb3JnZXQgdG8gdXBkYXRlIHdoZW4gd2UgYWRkIG5ldyBrZXlzIG9uIHRoZSBvdGhlciBzaWRlLCBldmVuIHdpdGggb3B0aW9uYWwgb25lc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzXG4gIH0gc2F0aXNmaWVzIHsgW0sgaW4ga2V5b2YgQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMgJiBzdHJpbmddOiBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtc1tLXSB8IHVuZGVmaW5lZCB9KTtcbn1cbiIsICIiLCAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU1RPTEVOIEFORCBBTFRFUkVEIEZST00gaHR0cHM6Ly9naXRodWIuY29tL3ByaXNtYS9wcmlzbWEvYmxvYi8wNzkzMmFlMTgxMzIzODFiYjg0ZGI4ODlhOWRjYWQwZTZjOWU2YTY4L3BhY2thZ2VzL2NsaWVudC9zcmMvcnVudGltZS91dGlscy9kZXNlcmlhbGl6ZVJhd1Jlc3VsdHMudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplUmF3UmVzdWx0KFxuICByZXNwb25zZTogUmF3UmVzcG9uc2UsXG4gIHZhbHVlRGVzZXJpYWxpemVyRm46IChcbiAgICB2YWx1ZTogdW5rbm93bixcbiAgICB0eXBlOiBRdWVyeUludHJvc3BlY3Rpb25CdWlsdGluVHlwZSxcbiAgICBjb2x1bW46IHN0cmluZyxcbiAgKSA9PiB1bmtub3duID0gZGVzZXJpYWxpemVWYWx1ZSxcbik6IERlc2VyaWFsaXplZFJlc3BvbnNlIHtcbiAgY29uc3QgeyBjb2x1bW5zLCByb3dzLCB0eXBlcyB9ID0gcmVzcG9uc2U7XG5cbiAgY29uc3QgZGVzZXJpYWxpemVkUmVzcG9uc2U6IERlc2VyaWFsaXplZFJlc3BvbnNlID0gW107XG5cbiAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2JyaWFuYy9ub2RlLXBvc3RncmVzL2lzc3Vlcy8zMDQyXG4gIGNvbnN0IHByZWJ1aWx0RW1wdHlPYmplY3QgPSBjcmVhdGVQcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0KGNvbHVtbnMpO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSByb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gcm93c1tpXSE7XG5cbiAgICBjb25zdCBtYXBwZWRSb3cgPSB7IC4uLnByZWJ1aWx0RW1wdHlPYmplY3QgfSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICAgIGZvciAobGV0IGogPSAwLCBsZW4gPSByb3cubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbal0hO1xuXG4gICAgICBtYXBwZWRSb3dbY29sdW1uXSA9IHZhbHVlRGVzZXJpYWxpemVyRm4ocm93W2pdLCB0eXBlc1tqXSEsIGNvbHVtbik7XG4gICAgfVxuXG4gICAgZGVzZXJpYWxpemVkUmVzcG9uc2UucHVzaChtYXBwZWRSb3cpO1xuICB9XG5cbiAgcmV0dXJuIGRlc2VyaWFsaXplZFJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVZhbHVlKHZhbHVlOiB1bmtub3duLCBfdHlwZTogUXVlcnlJbnRyb3NwZWN0aW9uQnVpbHRpblR5cGUsIF9jb2x1bW46IHN0cmluZyk6IHVua25vd24ge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIERlc2VyaWFsaXplZFJlc3BvbnNlID0gQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuXG5mdW5jdGlvbiBjcmVhdGVQcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0KGNvbHVtbnM6IHN0cmluZ1tdKTogUmVjb3JkPHN0cmluZywgbnVsbD4ge1xuICBjb25zdCByb3c6IFJlY29yZDxzdHJpbmcsIG51bGw+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbHVtbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByb3dbY29sdW1uc1tpXSFdID0gbnVsbDtcbiAgfVxuXG4gIHJldHVybiByb3c7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF3UmVzcG9uc2Uge1xuICBjb2x1bW5zOiBzdHJpbmdbXTtcbiAgdHlwZXM6IFF1ZXJ5SW50cm9zcGVjdGlvbkJ1aWx0aW5UeXBlW107XG4gIHJvd3M6IHVua25vd25bXVtdO1xufVxuXG5leHBvcnQgdHlwZSBRdWVyeUludHJvc3BlY3Rpb25CdWlsdGluVHlwZSA9XG4gIHwgXCJpbnRcIlxuICB8IFwiYmlnaW50XCJcbiAgfCBcImZsb2F0XCJcbiAgfCBcImRvdWJsZVwiXG4gIHwgXCJzdHJpbmdcIlxuICB8IFwiZW51bVwiXG4gIHwgXCJieXRlc1wiXG4gIHwgXCJib29sXCJcbiAgfCBcImNoYXJcIlxuICB8IFwiZGVjaW1hbFwiXG4gIHwgXCJqc29uXCJcbiAgfCBcInhtbFwiXG4gIHwgXCJ1dWlkXCJcbiAgfCBcImRhdGV0aW1lXCJcbiAgfCBcImRhdGVcIlxuICB8IFwidGltZVwiXG4gIHwgXCJpbnQtYXJyYXlcIlxuICB8IFwiYmlnaW50LWFycmF5XCJcbiAgfCBcImZsb2F0LWFycmF5XCJcbiAgfCBcImRvdWJsZS1hcnJheVwiXG4gIHwgXCJzdHJpbmctYXJyYXlcIlxuICB8IFwiY2hhci1hcnJheVwiXG4gIHwgXCJieXRlcy1hcnJheVwiXG4gIHwgXCJib29sLWFycmF5XCJcbiAgfCBcImRlY2ltYWwtYXJyYXlcIlxuICB8IFwianNvbi1hcnJheVwiXG4gIHwgXCJ4bWwtYXJyYXlcIlxuICB8IFwidXVpZC1hcnJheVwiXG4gIHwgXCJkYXRldGltZS1hcnJheVwiXG4gIHwgXCJkYXRlLWFycmF5XCJcbiAgfCBcInRpbWUtYXJyYXlcIlxuICB8IFwibnVsbFwiXG4gIHwgXCJ1bmtub3duXCI7XG4iLCAiaW1wb3J0IHR5cGUgeyBKc29uQmF0Y2hRdWVyeSwgSnNvblF1ZXJ5IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50L3J1bnRpbWUvbGlicmFyeVwiO1xuXG5pbXBvcnQgdHlwZSB7IEV4ZWN1dGVPcHRpb25zLCBFeGVjdXRvciB9IGZyb20gXCIuLi9leGVjdXRvclwiO1xuaW1wb3J0IHR5cGUgeyBRdWVyeSwgUXVlcnlSZXN1bHQgfSBmcm9tIFwiLi4vcXVlcnlcIjtcbmltcG9ydCB0eXBlIHsgRWl0aGVyIH0gZnJvbSBcIi4uL3R5cGUtdXRpbHNcIjtcbmltcG9ydCB7IGRlc2VyaWFsaXplUmF3UmVzdWx0LCB0eXBlIFJhd1Jlc3BvbnNlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyXCI7XG5cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfQUNDRUxFUkFURV9QUk9WSURFUlMgPSBbXG4gIC8vIFwibXlzcWxcIixcbiAgXCJwb3N0Z3Jlc1wiLFxuICBcInBvc3RncmVzcWxcIixcbl0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBTdXBwb3J0ZWRBY2NlbGVyYXRlUHJvdmlkZXIgPSAodHlwZW9mIFNVUFBPUlRFRF9BQ0NFTEVSQVRFX1BST1ZJREVSUylbbnVtYmVyXTtcblxuLyoqIHZhbHVlIGluamVjdGVkIGF0IGJ1aWxkIHRpbWUgKi9cbmRlY2xhcmUgY29uc3QgQUNDRUxFUkFURV9TQ0hFTUFfQllfUFJPVklERVI6IFJlY29yZDxTdXBwb3J0ZWRBY2NlbGVyYXRlUHJvdmlkZXIsIHsgZW5jb2RlZDogc3RyaW5nOyBoYXNoOiBzdHJpbmcgfT47XG5cbmV4cG9ydCB0eXBlIEpzb25SZXF1ZXN0ID0gSnNvblF1ZXJ5IHwgSnNvbkJhdGNoUXVlcnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlSYXdSZXN1bHQge1xuICBkYXRhOiB7XG4gICAgcXVlcnlSYXc6IFJhd1Jlc3BvbnNlO1xuICB9O1xuICBlcnJvcnM/OiB1bmtub3duW107XG59XG5cbmNvbnN0IEFDQ0VMRVJBVEVfSE9TVCA9IFwiYWNjZWxlcmF0ZS5wcmlzbWEtZGF0YS5uZXRcIjtcbmV4cG9ydCBjb25zdCBTQ0hFTUFfQllfUFJPVklERVIgPSBBQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUjtcblxuZXhwb3J0IGludGVyZmFjZSBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtcyB7XG4gIC8qKlxuICAgKiBBY2NlbGVyYXRlIEFQSSBrZXkuXG4gICAqL1xuICBhcGlLZXk6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW9uYWwgZmV0Y2ggaW1wbGVtZW50YXRpb24uXG4gICAqL1xuICBmZXRjaD86IHR5cGVvZiBnbG9iYWxUaGlzLmZldGNoO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBob3N0LlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBgYWNjZWxlcmF0ZS5wcmlzbWEtZGF0YS5uZXRgLlxuICAgKi9cbiAgaG9zdD86IHN0cmluZztcblxuICAvKipcbiAgICogRGF0YWJhc2UgcHJvdmlkZXIuXG4gICAqL1xuICBwcm92aWRlcjogU3VwcG9ydGVkQWNjZWxlcmF0ZVByb3ZpZGVyIHwgXCJwb3N0Z3Jlc3FsXCI7XG5cbiAgLyoqXG4gICAqIFByaXNtYSBFbmdpbmUgSGFzaCAoZWcuIDE3M2Y4ZDU0ZjhkNTJlNjkyYzdlMjdlNzJhODgzMTRlYzdhZWZmNjApXG4gICAqL1xuICBlbmdpbmVIYXNoOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFByaXNtYSBDbGllbnQgVmVyc2lvbiAoZWcuIDYuNS4wKS5cbiAgICovXG4gIGNsaWVudFZlcnNpb246IHN0cmluZztcblxuICAvKipcbiAgICogRnVuY3Rpb24gdXNlZCB0byBkZXNlcmlhbGl6ZSB0aGUgcmVzdWx0cyBvZiBxdWVyaWVzLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgcmVzdWx0cyBhcmUgcGFzc2VkIHRvIGBkZXNlcmlhbGl6ZVJhd1Jlc3VsdGAuXG4gICAqL1xuICByZXN1bHREZXNlcmlhbGl6ZXJGbj86ICh0aGlzOiB2b2lkLCByZXNwb25zZTogUmF3UmVzcG9uc2UpID0+IHVua25vd25bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY2NlbGVyYXRlSHR0cENsaWVudCBleHRlbmRzIEV4ZWN1dG9yIHtcbiAgZXhlY3V0ZTxUPih0aGlzOiB2b2lkLCBxdWVyeTogUXVlcnk8VD4sIG9wdGlvbnM/OiBFeGVjdXRlT3B0aW9ucyk6IFByb21pc2U8RWl0aGVyPEVycm9yLCBRdWVyeVJlc3VsdDxRdWVyeTxUPj4+Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFjY2VsZXJhdGVIdHRwQ2xpZW50KHByb3BzOiBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtcyk6IEFjY2VsZXJhdGVIdHRwQ2xpZW50IHtcbiAgY29uc3QgeyBwcm92aWRlciB9ID0gcHJvcHM7XG5cbiAgaWYgKHByb3ZpZGVyICE9PSBcInBvc3RncmVzcWxcIiAmJiAhU1VQUE9SVEVEX0FDQ0VMRVJBVEVfUFJPVklERVJTLmluY2x1ZGVzKHByb3ZpZGVyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm92aWRlcjogJHtwcm92aWRlcn1gKTtcbiAgfVxuXG4gIGNvbnN0IHNlbmRBY2NlbGVyYXRlUmVxdWVzdCA9IGdldFNlbmRBY2NlbGVyYXRlUmVxdWVzdEZuKHByb3BzKTtcblxuICByZXR1cm4ge1xuICAgIGV4ZWN1dGU6IGdldFNlbmRRdWVyeVJlcXVlc3RGbihwcm9wcywgc2VuZEFjY2VsZXJhdGVSZXF1ZXN0KSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VuZEFjY2VsZXJhdGVSZXF1ZXN0Rm4oXG4gIHByb3BzOiBBY2NlbGVyYXRlSHR0cENsaWVudFBhcmFtcyxcbik6IChyZXF1ZXN0OiBSZXF1ZXN0SW5pdCAmIHsgcGF0aDogc3RyaW5nOyBzaWduYWw/OiBBYm9ydFNpZ25hbCB9KSA9PiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIGNvbnN0IHsgaG9zdCwgZW5naW5lSGFzaCwgY2xpZW50VmVyc2lvbiwgcHJvdmlkZXIsIGFwaUtleSB9ID0gcHJvcHM7XG4gIGNvbnN0IHByb3RvY29sID0gaG9zdCA9PT0gQUNDRUxFUkFURV9IT1NUID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gIGNvbnN0IGJhc2VVcmwgPSBgJHtwcm90b2NvbH06Ly8ke2hvc3QgfHwgQUNDRUxFUkFURV9IT1NUfS8ke2NsaWVudFZlcnNpb259LyR7Z2V0U2NoZW1hQnlQcm92aWRlcihwcm92aWRlcikuaGFzaH1gO1xuXG4gIGNvbnN0IGZldGNoRm4gPSBwcm9wcy5mZXRjaCB8fCBmZXRjaDtcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgXCJQcmlzbWEtRW5naW5lLUhhc2hcIjogZW5naW5lSGFzaCxcbiAgfSBhcyBjb25zdDtcblxuICByZXR1cm4gKHJlcXVlc3QpID0+XG4gICAgZmV0Y2hGbihgJHtiYXNlVXJsfS8ke3JlcXVlc3QucGF0aH1gLCB7XG4gICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRTY2hlbWFSZXF1ZXN0KFxuICBwcm9wczogQWNjZWxlcmF0ZUh0dHBDbGllbnRQYXJhbXMsXG4gIG9wdGlvbnM6IEV4ZWN1dGVPcHRpb25zIHwgdW5kZWZpbmVkLFxuICBzZW5kUmVxdWVzdDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U2VuZEFjY2VsZXJhdGVSZXF1ZXN0Rm4+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3Qoe1xuICAgIGJvZHk6IGdldFNjaGVtYUJ5UHJvdmlkZXIocHJvcHMucHJvdmlkZXIpLmVuY29kZWQsXG4gICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIHBhdGg6IFwic2NoZW1hXCIsXG4gICAgc2lnbmFsOiBvcHRpb25zPy5hYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBub29wXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwbG9hZCBzY2hlbWEgdG8gcXVlcnkgZW5naW5lOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2NoZW1hQnlQcm92aWRlcihcbiAgcHJvdmlkZXI6IFN1cHBvcnRlZEFjY2VsZXJhdGVQcm92aWRlciB8IFwicG9zdGdyZXNxbFwiLFxuKTogKHR5cGVvZiBTQ0hFTUFfQllfUFJPVklERVIpW2tleW9mIHR5cGVvZiBTQ0hFTUFfQllfUFJPVklERVJdIHtcbiAgaWYgKHByb3ZpZGVyID09PSBcInBvc3RncmVzcWxcIikge1xuICAgIHJldHVybiBTQ0hFTUFfQllfUFJPVklERVJbXCJwb3N0Z3Jlc1wiXTtcbiAgfVxuXG4gIHJldHVybiBTQ0hFTUFfQllfUFJPVklERVJbcHJvdmlkZXJdO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kUHJpc21hT3JtUmVxdWVzdDxSPihcbiAgcmVxdWVzdDogSnNvblJlcXVlc3QsXG4gIG9wdGlvbnM6IEV4ZWN1dGVPcHRpb25zIHwgdW5kZWZpbmVkLFxuICBzZW5kQWNjZWxlcmF0ZVJlcXVlc3Q6IFJldHVyblR5cGU8dHlwZW9mIGdldFNlbmRBY2NlbGVyYXRlUmVxdWVzdEZuPixcbik6IFByb21pc2U8Uj4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRBY2NlbGVyYXRlUmVxdWVzdCh7XG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdCksXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBwYXRoOiBcImdyYXBocWxcIixcbiAgICBzaWduYWw6IG9wdGlvbnM/LmFib3J0U2lnbmFsLFxuICB9KTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIG5vb3BcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZXhlY3V0ZSBxdWVyeTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICB9XG5cbiAgcmV0dXJuIChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIFI7XG59XG5cbmZ1bmN0aW9uIGdldFNlbmRRdWVyeVJlcXVlc3RGbihcbiAgcHJvcHM6IEFjY2VsZXJhdGVIdHRwQ2xpZW50UGFyYW1zLFxuICBzZW5kQWNjZWxlcmF0ZVJlcXVlc3Q6IFJldHVyblR5cGU8dHlwZW9mIGdldFNlbmRBY2NlbGVyYXRlUmVxdWVzdEZuPixcbik6IEV4ZWN1dG9yW1wiZXhlY3V0ZVwiXSB7XG4gIGNvbnN0IHsgcmVzdWx0RGVzZXJpYWxpemVyRm4gPSBkZXNlcmlhbGl6ZVJhd1Jlc3VsdCB9ID0gcHJvcHM7XG4gIGxldCBzY2hlbWFSZXF1ZXN0OiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGw7XG5cbiAgcmV0dXJuIGFzeW5jIChxdWVyeSwgb3B0aW9ucykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCAoc2NoZW1hUmVxdWVzdCB8fD0gc2VuZFNjaGVtYVJlcXVlc3QocHJvcHMsIG9wdGlvbnMsIHNlbmRBY2NlbGVyYXRlUmVxdWVzdCkpO1xuXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9ycyB9ID0gYXdhaXQgc2VuZFByaXNtYU9ybVJlcXVlc3Q8UXVlcnlSYXdSZXN1bHQ+KFxuICAgICAgICB7XG4gICAgICAgICAgYWN0aW9uOiBcInF1ZXJ5UmF3XCIsXG4gICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBxdWVyeS5wYXJhbWV0ZXJzIGFzIG5ldmVyW10sXG4gICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeS5zcWwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0aW9uOiB7fSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBzZW5kQWNjZWxlcmF0ZVJlcXVlc3QsXG4gICAgICApO1xuXG4gICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgXCJFcnJvcnMgb2NjdXJyZWQgd2hpbGUgZXhlY3V0aW5nIHRoZSBxdWVyeVwiKV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgcmVzdWx0RGVzZXJpYWxpemVyRm4oZGF0YS5xdWVyeVJhdykgYXMgUXVlcnlSZXN1bHQ8dHlwZW9mIHF1ZXJ5Pl07XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIC8vIFRPRE86IGhhbmRsZSBwcm9wZXJseVxuICAgICAgcmV0dXJuIFtlcnJvciBhcyBFcnJvcl07XG4gICAgfVxuICB9O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogInlhQUFBLElBQUFBLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxvQ0FBQUUsRUFBQSx5QkFBQUMsSUFBQSxlQUFBQyxFQUFBSixHQ0FBLElBQUFLLEVBQUEsQ0FBQyxTQUFXLENBQUMsUUFBVSwyTEFBMkwsS0FBTyxrRUFBa0UsRUFBRSxXQUFhLENBQUMsUUFBVSwrTEFBK0wsS0FBTyxrRUFBa0UsQ0FBQyxFQ0l2akIsU0FBU0MsRUFDZEMsRUFDQUMsRUFJZUMsRUFDTyxDQUN0QixHQUFNLENBQUUsUUFBQUMsRUFBUyxLQUFBQyxFQUFNLE1BQUFDLENBQU0sRUFBSUwsRUFFM0JNLEVBQTZDLENBQUMsRUFHOUNDLEVBQXNCQyxFQUFnQ0wsQ0FBTyxFQUVuRSxRQUFTTSxFQUFJLEVBQUdDLEVBQU1OLEVBQUssT0FBUUssRUFBSUMsRUFBS0QsSUFBSyxDQUMvQyxJQUFNRSxFQUFNUCxFQUFLSyxDQUFDLEVBRVpHLEVBQVksQ0FBRSxHQUFHTCxDQUFvQixFQUUzQyxRQUFTTSxFQUFJLEVBQUdILEVBQU1DLEVBQUksT0FBUUUsRUFBSUgsRUFBS0csSUFBSyxDQUM5QyxJQUFNQyxF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TyxPQUFPQyxFQUFPUCxJQUFZLENBQy9CLEdBQUksQ0FDRixNQUFPTSxJQUFrQlAsRUFBa0JkLEVBQU9lLEVBQVNiLENBQXFCLEdBRWhGLEdBQU0sQ0FBRSxLQUFBcUIsRUFBTSxPQUFBQyxDQUFPLEVBQUksTUFBTU4sRUFDN0IsQ0FDRSxPQUFRLFdBQ1IsTUFBTyxDQUNMLFVBQVcsQ0FDVCxXQUFZSSxFQUFNLFdBQ2xCLE1BQU9BLEVBQU0sR0FDZixFQUNBLFVBQVcsQ0FBQyxDQUNkLENBQ0YsRUFDQVAsRUFDQWIsQ0FDRixFQUVBLE9BQUlzQixFQUNLLENBQUMsSUFBSSxlQUFlQSxFQUFRLDJDQUEyQyxDQUFDLEVBRzFFLENBQUMsS0FBTUwsRUFBcUJJLEVBQUssUUFBUSxDQUE4QixDQUNoRixPQUFTRSxFQUFnQixDQUV2QixNQUFPLENBQUNBLENBQWMsQ0FDeEIsQ0FDRixDQUNGLENIcktPLFNBQVNDLEVBQStCQyxFQUFpRSxDQUM5RyxHQUFNLENBQUUsSUFBQUMsRUFBSyxNQUFBQyxFQUFPLHFCQUFBQyxDQUFxQixFQUFJSCxFQUN2QyxDQUFFLEtBQUFJLEVBQU0sYUFBQUMsQ0FBYSxFQUFJLElBQUksSUFBSUosQ0FBRyxFQUUxQyxPQUFPSyxFQUEyQixDQUNoQyxPQUFRRCxFQUFhLElBQUksU0FBUyxHQUFLLG9CQUN2QyxjQUFlLFNBQ2YsV0FBWSwyQ0FDWixNQUFBSCxFQUNBLEtBQUFFLEVBQ0EsU0FBVSxXQUNWLHFCQUFBRCxDQUdGLENBQTJHLENBQzdHIiwKICAibmFtZXMiOiBbInBwZ19leHBvcnRzIiwgIl9fZXhwb3J0IiwgImNyZWF0ZVByaXNtYVBvc3RncmVzSHR0cENsaWVudCIsICJkZXNlcmlhbGl6ZVJhd1Jlc3VsdCIsICJfX3RvQ29tbW9uSlMiLCAiZGVmaW5lX0FDQ0VMRVJBVEVfU0NIRU1BX0JZX1BST1ZJREVSX2RlZmF1bHQiLCAiZGVzZXJpYWxpemVSYXdSZXN1bHQiLCAicmVzcG9uc2UiLCAidmFsdWVEZXNlcmlhbGl6ZXJGbiIsICJkZXNlcmlhbGl6ZVZhbHVlIiwgImNvbHVtbnMiLCAicm93cyIsICJ0eXBlcyIsICJkZXNlcmlhbGl6ZWRSZXNwb25zZSIsICJwcmVidWlsdEVtcHR5T2JqZWN0IiwgImNyZWF0ZVByZWJ1aWx0RW1wdHlSZXN1bHRPYmplY3QiLCAiaSIsICJsZW4iLCAicm93IiwgIm1hcHBlZFJvdyIsICJqIiwgImNvbHVtbiIsICJ2YWx1ZSIsICJfdHlwZSIsICJfY29sdW1uIiwgIlNVUFBPUlRFRF9BQ0NFTEVSQVRFX1BST1ZJREVSUyIsICJBQ0NFTEVSQVRFX0hPU1QiLCAiU0NIRU1BX0JZX1BST1ZJREVSIiwgImRlZmluZV9BQ0NFTEVSQVRFX1NDSEVNQV9CWV9QUk9WSURFUl9kZWZhdWx0IiwgImNyZWF0ZUFjY2VsZXJhdGVIdHRwQ2xpZW50IiwgInByb3BzIiwgInByb3ZpZGVyIiwgInNlbmRBY2NlbGVyYXRlUmVxdWVzdCIsICJnZXRTZW5kQWNjZWxlcmF0ZVJlcXVlc3RGbiIsICJnZXRTZW5kUXVlcnlSZXF1ZXN0Rm4iLCAiaG9zdCIsICJlbmdpbmVIYXNoIiwgImNsaWVudFZlcnNpb24iLCAiYXBpS2V5IiwgImJhc2VVcmwiLCAiZ2V0U2NoZW1hQnlQcm92aWRlciIsICJmZXRjaEZuIiwgImhlYWRlcnMiLCAicmVxdWVzdCIsICJzZW5kU2NoZW1hUmVxdWVzdCIsICJvcHRpb25zIiwgInNlbmRSZXF1ZXN0IiwgInJlc3BvbnNlIiwgInNlbmRQcmlzbWFPcm1SZXF1ZXN0IiwgInJlc3VsdERlc2VyaWFsaXplckZuIiwgImRlc2VyaWFsaXplUmF3UmVzdWx0IiwgInNjaGVtYVJlcXVlc3QiLCAicXVlcnkiLCAiZGF0YSIsICJlcnJvcnMiLCAiZXJyb3IiLCAiY3JlYXRlUHJpc21hUG9zdGdyZXNIdHRwQ2xpZW50IiwgInByb3BzIiwgInVybCIsICJmZXRjaCIsICJyZXN1bHREZXNlcmlhbGl6ZXJGbiIsICJob3N0IiwgInNlYXJjaFBhcmFtcyIsICJjcmVhdGVBY2NlbGVyYXRlSHR0cENsaWVudCJdCn0K