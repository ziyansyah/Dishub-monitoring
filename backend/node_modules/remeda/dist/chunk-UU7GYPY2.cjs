"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }function T(c,{triggerAt:l="end",minQuietPeriodMs:i,maxBurstDurationMs:t,minGapMs:o,reducer:p=g}){let e,n,d,r,a=()=>{let u=d;u!==void 0&&(d=void 0,c(u),o!==void 0&&(n=setTimeout(f,o)))},f=()=>{clearTimeout(n),n=void 0,e===void 0&&a()},m=()=>{clearTimeout(e),e=void 0,r=void 0,n===void 0&&a()};return{call:(...u)=>{let s=e===void 0&&n===void 0;if((l!=="start"||s)&&(d=p(d,...u)),!(e===void 0&&!s)){if(i!==void 0||t!==void 0||o===void 0){clearTimeout(e);let y=Date.now();r??=y;let R=t===void 0?_nullishCoalesce(i, () => (0)):Math.min(_nullishCoalesce(i, () => (t)),t-(y-r));e=setTimeout(m,R)}l!=="end"&&s&&a()}},cancel:()=>{clearTimeout(e),e=void 0,r=void 0,clearTimeout(n),n=void 0,d=void 0},flush:()=>{m(),f()},get isIdle(){return e===void 0&&n===void 0}}}var g=()=>"";exports.a = T;
